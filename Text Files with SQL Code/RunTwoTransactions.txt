
-- Transaction 1
BEGIN TRANSACTION GiveSellersKarmaPoints
	UPDATE USER SET Karma = Karma + 100 WHERE UserID IN (SELECT SellerID FROM SELLER);
	IF error THEN GO TO UNDO; END IF;
	COMMIT;
	GO TO FINISH;
	UNDO: ROLLBACK;
	FINISH:
END TRANSACTION;


-- Transaction 2
BEGIN TRANSACTION GetAllShoppingCartItems
	SELECT ProductID FROM ShoppingCartProduct WHERE ShoppingCartID IN (SELECT BuyerID FROM Buyer);
	IF error THEN GO TO UNDO; END IF;
	COMMIT;
	GO TO FINISH;
	UNDO: ROLLBACK;
	FINISH:
END TRANSACTION;
